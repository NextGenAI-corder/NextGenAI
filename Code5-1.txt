from flask import Flask, request
import json
import requests
import os

app = Flask(__name__)

# セキュリティのため、Xのトークンは環境変数から取得するのが推奨です
BEARER_TOKEN = os.getenv("BEARER_TOKEN")

@app.route("/", methods=["POST"])
def webhook():
    data = request.get_json()
    print("受信:", data)

    # TODO: Xのイベント構造に合わせて処理を追加
    return "OK"

if __name__ == '__main__':
    app.run(port=5000)